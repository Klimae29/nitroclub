<%= render "components/header" %>

<div class="page-container">
  <!-- ğŸ“¸ Image du vÃ©hicule en haut -->
  <div class="car-image-container">
    <% image_url = params[:image] || (@car.public_id.present? ? asset_path("cards/#{@car.public_id}.jpg") : image_path("placeholder-car.png")) %>
    <%= image_tag image_url, class: "car-image", alt: @car.name %>
  </div>

  <!-- ğŸš— DÃ©tails & RÃ©servation en ligne -->
  <div class="details-reservation-container">
    <!-- ğŸ”¥ DÃ©tails alignÃ©s -->
    <div class="car-details">
      <h1><%= @car.name %></h1>
      <p><strong>ğŸ“Œ Type :</strong> <%= @car.style.capitalize %></p>
      <p><strong>ğŸ“… AnnÃ©e :</strong> <%= @car.year %></p>
      <p><strong>ğŸ’° Prix :</strong> <span class="price-tag"><%= @car.price %>â‚¬ / jour</span></p>
      <p><strong>ğŸ“ Localisation :</strong> Maubeuge, Nord</p>
      <p class="user-reviews">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ (Avis utilisateurs)</p>
    </div>

    <!-- ğŸ“Œ RÃ©servation avec un design moderne -->
    <div class="reservation-container">
      <h2>ğŸš€ RÃ©server cette voiture</h2>
      <%= form_with(model: [@car, Rental.new], method: :post, local: true) do |f| %>
        <div class="form-group">
          <label>ğŸ“… Date de dÃ©but :</label>
          <%= f.date_field :start_date, required: true, class: "form-control" %>
        </div>
        <div class="form-group">
          <label>ğŸ“… Date de fin :</label>
          <%= f.date_field :end_date, required: true, class: "form-control" %>
        </div>
        <%= f.submit "ğŸ”’ RÃ©server", class: "btn-primary" %>
      <% end %>
    </div>
  </div>
</div>
